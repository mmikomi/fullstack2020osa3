{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","searchCon","removePerson","OnePerson","person","name","number","onClick","filter","toUpperCase","includes","map","x","key","axios","get","then","response","data","newObject","post","removedObject","personId","id","removeUrl","delete","updateObject","put","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","setSearchCon","notification","setNotification","useEffect","personService","initialPersons","event","target","preventDefault","some","e","trim","window","confirm","thePerson","p","changedPerson","returnedPerson","catch","error","setTimeout","updatePerson","alert","personObject","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.61c2e0b0.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n                filter shown with: <input value={value} onChange={onChange}/>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.addPerson}>\r\n          <div>\r\n            name: <input value={props.newName} onChange={props.handleNameChange}/>\r\n          </div>\r\n          <div>\r\n            number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, searchCon, removePerson}) => {\r\n    \r\n    const OnePerson = ({person}) => {\r\n        return(\r\n            <div>\r\n                {person.name} {person.number} <button onClick={() => removePerson(person)}>delete</button>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    const filteredPersons = [...persons].filter(person => person.name.toUpperCase().includes(searchCon.toUpperCase()))\r\n\r\n    return(\r\n        filteredPersons.map(x => (<OnePerson key={x.name} person={x}/>))\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => (axios.get(baseUrl).then(response => response.data))\r\n\r\nconst create = newObject => (axios.post(baseUrl, newObject).then(response => response.data))\r\n\r\nconst remove = removedObject => {\r\n    const personId = removedObject.id\r\n    const removeUrl = `http://localhost:3001/api/persons/${personId}`\r\n\r\n    return(\r\n        axios\r\n            .delete(removeUrl)\r\n    )\r\n}\r\n\r\nconst update = updateObject => {\r\n    return(\r\n        axios\r\n        .put(`http://localhost:3001/api/persons/${updateObject.id}`, updateObject)\r\n        .then(response => response.data)\r\n    )\r\n    \r\n}\r\n\r\n\r\nexport default {getAll, create, remove, update}","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\n\r\nconst Notification = ({message}) => {\r\n\r\n    if(message === null){\r\n        return null\r\n    }\r\n\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'white',\r\n        fontSize: 22,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    const notiStyle = {\r\n        color: 'green',\r\n        background: 'white',\r\n        fontSize: 22,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if(message.includes('ERROR:')){\r\n        return(\r\n            <div style={errorStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <div style={notiStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst App = () => {\r\n    const [ persons, setPersons] = useState([])\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber ] = useState('')\r\n    const [ searchCon, setSearchCon ] = useState('')\r\n    const [ notification, setNotification ] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n            })\r\n    }, [])\r\n\r\n    const updatePerson = (newName, newNumber) => {\r\n\r\n        const thePerson = persons.filter(p => p.name === newName.trim())[0]\r\n        const changedPerson = {...thePerson, number:newNumber}\r\n        const personId = thePerson.id\r\n\r\n        personService\r\n            .update(changedPerson)\r\n            .then(returnedPerson => {\r\n                setPersons(persons.map(person => person.id === personId ? returnedPerson : person))\r\n            })\r\n            .catch(error => {\r\n                setNotification(`ERROR: The person ${thePerson.name} has already been removed from the server.`)\r\n                setTimeout(() => {\r\n                    setNotification(null)\r\n                }, 5000)\r\n            })\r\n    }\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n\r\n        if(persons.some(e => e.name === newName.trim())){\r\n            if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n                updatePerson(newName, newNumber)\r\n                setNotification(\r\n                    `The number for ${newName} has been changed.`\r\n                )\r\n                setTimeout(() => {\r\n                    setNotification(null)\r\n                }, 5000)\r\n                setNewName('')\r\n                setNewNumber('')\r\n            }else{\r\n                alert(`Did not modify number for ${newName.trim()}.`)\r\n            }\r\n        } else {\r\n            const personObject = {\r\n                name: newName,\r\n                number: newNumber\r\n            }\r\n\r\n            personService\r\n                .create(personObject)\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.concat(returnedPerson))\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                    setNotification(\r\n                        `${personObject.name} has been added to the phonebook.`\r\n                    )\r\n                    setTimeout(() => {\r\n                        setNotification(null)\r\n                    }, 5000)\r\n                }).catch(error => {\r\n                    setNotification(\r\n                        'virhe'\r\n                    )\r\n                    setTimeout(() => {\r\n                        setNotification(null)\r\n                    }, 5000)\r\n                })\r\n        }\r\n    }\r\n\r\n    const removePerson = (person) => {\r\n\r\n        if(window.confirm(`Delete ${person.name}?`)){\r\n           personService\r\n                .remove(person)\r\n                .then(\r\n                    setPersons(persons.filter(x => x.id !== person.id)),\r\n                    setNotification(\r\n                        `${person.name} has been removed from the phonebook.`\r\n                    ),\r\n                    setTimeout(() => {\r\n                        setNotification(null)\r\n                    }, 5000)\r\n                )\r\n        }\r\n        \r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleSearchChange = (event) => {\r\n        setSearchCon(event.target.value)\r\n    }\r\n  \r\n    return (\r\n      <div>\r\n        <h2>Phonebook</h2>\r\n\r\n        <Notification message={notification} />\r\n\r\n        <Filter value={searchCon} onChange={handleSearchChange} />\r\n\r\n        <h2>Add new</h2>\r\n        \r\n        <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\r\n\r\n        <h2>Numbers</h2>\r\n        \r\n        <Persons persons={persons} searchCon={searchCon} removePerson={removePerson}/>\r\n      </div>\r\n    )\r\n  \r\n  }\r\n  \r\n  export default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}